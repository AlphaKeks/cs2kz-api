# Routes

- [x] `/health` (GET) -> Healthcheck
- [ ] `/players`
  - [x] `/` (GET)
    - `name` (string)
    - `playtime` (u32)
    - `is_banned` (bool)
    - `offset` (u64)
    - `limit` (u64)
  - [x] `/{ident}` (GET) (Player)
  - [x] `/` (POST)
    - `steam_id` (SteamID)
    - `name` (string)
    - `ip` (IpAddr)
  - [ ] `/{steam_id}` (PUT) (SteamID)
    - [x] `name` (string)
    - [ ] `playtime` (u32)
    - [x] `ip` (IpAddr)
- [ ] `/bans`
  - [x] `/` (GET)
    - `player` (Player)
    - `reason` (BanReason)
    - `server` (Server)
    - `expired` (bool)
    - `created_after` (date)
    - `created_before` (date)
  - [ ] `/` (POST)
    - [x] JSON body:
      - `steam_id` (SteamID)
      - `ip` (IpAddr)
      - `server_id` (u16)
      - `reason` (BanReason)
      - `banned_by` (SteamID)
      - `plugin_version` (u16)
      - `expires_on` (Option<DateTime>)
    - [ ] BLOB multipart data:
      - replay
  - [x] `/{id}/replay` (u32) (GET)
- [ ] `/maps`
  - [ ] `/` (GET)
    - `name` (string)
    - `created_by` (Player)
    - `created_after` (date)
    - `created_before` (date)
    - `offset` (u64)
    - `limit` (u64)
  - [ ] `/{ident}` (GET) (Map)
  - [ ] `/{ident}/courses` (GET) (Map)
    - `tier` (Tier)
    - `mode` (Mode)
    - `created_by` (Player)
    - `ranked` (bool)
    - `offset` (u64)
    - `limit` (u64)
  - [ ] `/` (POST)
    - `name` (string)
    - `workshop_id` (u32)
    - `filters` (Filter[])
    - `created_by` (Player)
    - `approved_by` (Player)
  - [ ] `/{id}` (PUT) (u16)
    - `name` (string)
    - `workshop_id` (u32)
    - `filters_added` (Filter[])
    - `filters_removed` (u16[])
- [ ] `/servers`
  - [ ] `/` (GET)
    - `name` (string)
    - `owned_by` (Player)
    - `created_after` (date)
    - `created_before` (date)
    - `offset` (u64)
    - `limit` (u64)
  - [ ] `/{ident}` (GET) (Server)
  - [ ] `/` (POST)
    - `name` (string)
    - `owned_by` (Player)
    - `ip` (IpAddr)
    - `port` (u16)
  - [ ] `/{id}` (PUT) (u16)
    - `name` (string)
    - `owned_by` (Player)
    - `ip` (IpAddr)
    - `port` (u16)
- [ ] `/records`
  - [ ] `/` (GET)
    - `map` (Map)
    - `stage` (u8) -> nth course on map
    - `course` (Course)
    - `player` (Player)
    - `mode` (Mode)
    - `runtype` (Runtype)
    - `server` (Server)
    - `top_only` (bool)
    - `allow_banned` (bool)
    - `allow_non_ranked` (bool)
    - `offset` (u64)
    - `limit` (u64)
  - [ ] `/` (POST)
    - JSON body:
      - `course_id` (u16)
      - `steam_id` (SteamID)
      - `mode` (Mode)
      - `runtype` (Runtype)
      - `time` (float)
    - BLOB multipart data:
      - replay
  - [ ] `/{id}` (GET) (u32)
  - [ ] `/{id}/replay` (GET) (u32)
- [ ] `/auth`
  - [ ] `/refresh` (GET) # for game servers
- [ ] `/events` (GET) # websocket for event pub-sub
